<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="description" content="Blog with posts about IT"/><meta property="og:image" content="https://og-image.vercel.app/swastek.pl.png?theme=light&amp;md=0&amp;fontSize=75px&amp;images=https%3A%2F%2Fassets.zeit.co%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><meta name="og:title" content="swastek.pl"/><meta name="twitter:card" content="summary_large_image"/><link rel="preload" as="image" imagesrcset="images/profile.png?imwidth=128 1x, images/profile.png?imwidth=256 2x"/><title>Terraform Azure SQL default value trap</title><meta name="next-head-count" content="8"/><link rel="preload" href="/_next/static/css/0275f6d90e7ad339.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0275f6d90e7ad339.css" data-n-g=""/><link rel="preload" href="/_next/static/css/c39f9723b4064ac0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c39f9723b4064ac0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-791e43320145be6b.js" defer=""></script><script src="/_next/static/chunks/pages/_app-898c436b230de4c1.js" defer=""></script><script src="/_next/static/chunks/254-0d005fb76719469d.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-2926cdc9a8904f42.js" defer=""></script><script src="/_next/static/APTGIU35JDMBPuWAsT1gi/_buildManifest.js" defer=""></script><script src="/_next/static/APTGIU35JDMBPuWAsT1gi/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="layout_container__fbLkO"><header class="layout_header__kY0Lt"><a href="/"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27108%27%20height=%27108%27/%3e"/></span><img alt="Jakub Swastek" srcSet="images/profile.png?imwidth=128 1x, images/profile.png?imwidth=256 2x" src="images/profile.png?imwidth=256" decoding="async" data-nimg="intrinsic" class="utils_borderCircle__s2nTm" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/></span></a><h2 class="utils_headingLg__5535D"><a class="utils_colorInherit__mSH_x" href="/">Jakub Swastek</a></h2></header><main><article><h1 class="utils_headingXl__u25Y2">Terraform Azure SQL default value trap</h1><div class="utils_lightText__eUzGY"><time dateTime="2022-07-23">July 23, 2022</time></div><div><p>Last month I had the opportunity to participate in Terraform exam that I passed. It was an interesting experience since a year ago I was Junior .NET and all my knowledge about terraform was that this tool exists. Today I want to tell you about one issue (in my opinion) in Terraform Azure SQL default settings. When we look into the documentation we have an example of creating a standard sku in DTO model. One interesting thing is that sku is optional. If we didn't provide sku Terraform will try to create Gen4/Gen5 capacity depending on location. I think that this type of parameter is really important and should be changed to require to avoid additional expenses. At the end of the day make sure that you know what resources will be created, create budget alerts and avoid additional cloud costs.</p>
<p>References:</p>
<ul>
<li><a href="https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/mssql_database">Terraform MS SQL documentation</a></li>
</ul>
</div></article></main><div class="layout_backToHome__9sjx_"><a href="/">‚Üê Back to home</a></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"terraform-mssql-default-sku-23072022","contentHtml":"\u003cp\u003eLast month I had the opportunity to participate in Terraform exam that I passed. It was an interesting experience since a year ago I was Junior .NET and all my knowledge about terraform was that this tool exists. Today I want to tell you about one issue (in my opinion) in Terraform Azure SQL default settings. When we look into the documentation we have an example of creating a standard sku in DTO model. One interesting thing is that sku is optional. If we didn't provide sku Terraform will try to create Gen4/Gen5 capacity depending on location. I think that this type of parameter is really important and should be changed to require to avoid additional expenses. At the end of the day make sure that you know what resources will be created, create budget alerts and avoid additional cloud costs.\u003c/p\u003e\n\u003cp\u003eReferences:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/mssql_database\"\u003eTerraform MS SQL documentation\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","title":"Terraform Azure SQL default value trap","date":"2022-07-23"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"terraform-mssql-default-sku-23072022"},"buildId":"APTGIU35JDMBPuWAsT1gi","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>